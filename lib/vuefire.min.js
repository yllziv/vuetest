!function(e,i){"object"==typeof exports&&"object"==typeof module?module.exports=i():"function"==typeof define&&define.amd?define([],i):"object"==typeof exports?exports.VueFire=i():e.VueFire=i()}(this,function(){return function(e){function i(n){if(r[n])return r[n].exports;var t=r[n]={exports:{},id:n,loaded:!1};return e[n].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}var r={};return i.m=e,i.c=r,i.p="",i(0)}([function(e,i){function r(e){return"[object Object]"===Object.prototype.toString.call(e)}function n(e){var i=e.val(),n=r(i)?i:{".value":i};return n[".key"]=e.key(),n}function t(e,i){for(var r=0;r<e.length;r++)if(e[r][".key"]===i)return r;return-1}function o(e,i,n){var t=!1,o=null;if(r(n)&&n.hasOwnProperty("source")&&(t=n.asObject,o=n.cancelCallback,n=n.source),!r(n))throw new Error("VueFire: invalid Firebase binding source.");var c=n;"function"==typeof n.ref&&(c=n.ref()),e.$firebaseRefs[i]=c,e._firebaseSources[i]=n,t?f(e,i,n,o):s(e,i,n,o)}function s(e,i,r,o){var s=[];l.util.defineReactive(e,i,s);var f=r.on("child_added",function(e,i){var r=i?t(s,i)+1:0;s.splice(r,0,n(e))},o),c=r.on("child_removed",function(e){var i=t(s,e.key());s.splice(i,1)},o),a=r.on("child_changed",function(e){var i=t(s,e.key());s.splice(i,1,n(e))},o),u=r.on("child_moved",function(e,i){var r=t(s,e.key()),n=s.splice(r,1)[0],o=i?t(s,i)+1:0;s.splice(o,0,n)},o);e._firebaseListeners[i]={child_added:f,child_removed:c,child_changed:a,child_moved:u}}function f(e,i,r,t){l.util.defineReactive(e,i,{});var o=r.on("value",function(r){e[i]=n(r)},t);e._firebaseListeners[i]={value:o}}function c(e,i){var r=e._firebaseSources&&e._firebaseSources[i];if(!r)throw new Error('VueFire: unbind failed: "'+i+'" is not bound to a Firebase reference.');var n=e._firebaseListeners[i];for(var t in n)r.off(t,n[t]);e[i]=null,e.$firebaseRefs[i]=null,e._firebaseSources[i]=null,e._firebaseListeners[i]=null}function a(e){e.$firebaseRefs||(e.$firebaseRefs=Object.create(null),e._firebaseSources=Object.create(null),e._firebaseListeners=Object.create(null))}function u(e){l=e,l.mixin(d);var i=l.config.optionMergeStrategies;i.firebase=i.methods,l.prototype.$bindAsObject=function(e,i,r){a(this),o(this,e,{source:i,asObject:!0,cancelCallback:r})},l.prototype.$bindAsArray=function(e,i,r){a(this),o(this,e,{source:i,cancelCallback:r})},l.prototype.$unbind=function(e){c(this,e)}}var l,d={init:function(){var e=this.$options.firebase;if(e){a(this);for(var i in e)o(this,i,e[i])}},beforeDestroy:function(){if(this.$firebaseRefs){for(var e in this.$firebaseRefs)this.$firebaseRefs[e]&&this.$unbind(e);this.$firebaseRefs=null,this._firebaseSources=null,this._firebaseListeners=null}}};"undefined"!=typeof window&&window.Vue&&u(window.Vue),e.exports=u}])});